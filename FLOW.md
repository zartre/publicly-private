# ðŸ”„ Encryption Flow Diagram

## Complete Request/Response Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERACTION                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User enters "Alice" in text field
         â”‚
         â–¼
    [Submit Button]
         â”‚
         â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (Leptos/Rust/WASM)                        â”‚
â”‚                         http://localhost:8080                            â”‚
â”‚                      ðŸ”‘ Has: PUBLIC KEY ONLY                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Encrypt the name
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input: "Alice"                                              â”‚
â”‚  Key: RSA Public Key (2048-bit)                             â”‚
â”‚  Padding: OAEP with SHA-256                                 â”‚
â”‚  â†“                                                           â”‚
â”‚  Output: [encrypted bytes]                                  â”‚
â”‚  â†“                                                           â”‚
â”‚  Encode: Base64                                             â”‚
â”‚  â†“                                                           â”‚
â”‚  Result: "kX7vZ2J8mN3qR9sT1uV5wY0zA..."                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 2: Create HTTP request
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST http://localhost:3000/encrypt-greeting                â”‚
â”‚  Headers:                                                    â”‚
â”‚    Content-Type: application/json                           â”‚
â”‚  Body:                                                       â”‚
â”‚    {                                                         â”‚
â”‚      "name": "kX7vZ2J8mN3qR9sT1uV5wY0zA..."               â”‚
â”‚    }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP POST
         â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (Hono/TypeScript/Bun)                      â”‚
â”‚                         http://localhost:3000                            â”‚
â”‚                      ðŸ”‘ Has: PRIVATE KEY ONLY                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: Receive encrypted request
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Received: { name: "kX7vZ2J8mN3qR9sT1uV5wY0zA..." }        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 4: Decrypt the name
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input: "kX7vZ2J8mN3qR9sT1uV5wY0zA..."                     â”‚
â”‚  â†“                                                           â”‚
â”‚  Decode: Base64 â†’ [encrypted bytes]                        â”‚
â”‚  â†“                                                           â”‚
â”‚  Key: RSA Private Key (2048-bit)                           â”‚
â”‚  Padding: OAEP with SHA-256                                 â”‚
â”‚  â†“                                                           â”‚
â”‚  Decrypt: [encrypted bytes] â†’ [decrypted bytes]            â”‚
â”‚  â†“                                                           â”‚
â”‚  Output: "Alice"                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 5: Process the data
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  const name = "Alice";                                       â”‚
â”‚  const greeting = `Hello ${name}`;                          â”‚
â”‚  â†“                                                           â”‚
â”‚  Result: "Hello Alice"                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 6: Encrypt the response
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input: "Hello Alice"                                        â”‚
â”‚  Key: RSA Private Key (2048-bit)                            â”‚
â”‚  Padding: PKCS1 (allows public key decryption)              â”‚
â”‚  â†“                                                           â”‚
â”‚  Output: [encrypted bytes]                                  â”‚
â”‚  â†“                                                           â”‚
â”‚  Encode: Base64                                             â”‚
â”‚  â†“                                                           â”‚
â”‚  Result: "mY8nP1qS3tU7vW9xZ0aB2cD4eF..."                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 7: Send HTTP response
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Status: 200 OK                                              â”‚
â”‚  Headers:                                                    â”‚
â”‚    Content-Type: application/json                           â”‚
â”‚  Body:                                                       â”‚
â”‚    {                                                         â”‚
â”‚      "encryptedGreeting": "mY8nP1qS3tU7vW9xZ0aB2cD4eF...", â”‚
â”‚      "message": "Greeting encrypted successfully"           â”‚
â”‚    }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP Response
         â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (Leptos/Rust/WASM)                        â”‚
â”‚                      ðŸ”‘ Has: PUBLIC KEY ONLY                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 8: Receive encrypted response
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Received: { encryptedGreeting: "mY8nP1qS3tU7vW9..." }      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 9: Decrypt the response
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input: "mY8nP1qS3tU7vW9xZ0aB2cD4eF..."                     â”‚
â”‚  â†“                                                           â”‚
â”‚  Decode: Base64 â†’ [encrypted bytes]                        â”‚
â”‚  â†“                                                           â”‚
â”‚  Key: RSA Public Key (2048-bit)                            â”‚
â”‚  Padding: PKCS1 (decrypt data encrypted with private key)   â”‚
â”‚  â†“                                                           â”‚
â”‚  Decrypt: [encrypted bytes] â†’ [decrypted bytes]            â”‚
â”‚  â†“                                                           â”‚
â”‚  Output: "Hello Alice"                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼

Step 10: Display to user
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Decrypted Response:                                     â”‚
â”‚  Hello Alice                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Transformation Timeline

```
TIME  â”‚  LOCATION       â”‚  DATA STATE                    â”‚  ENCODING
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  T0  â”‚  User Input     â”‚  "Alice"                       â”‚  Plain text
  â†“   â”‚                 â”‚                                â”‚
  T1  â”‚  Frontend       â”‚  [Encrypt with Public Key]     â”‚  
  â†“   â”‚                 â”‚                                â”‚
  T2  â”‚  Frontend       â”‚  kX7vZ2...                     â”‚  Base64
  â†“   â”‚                 â”‚                                â”‚
  T3  â”‚  HTTP Request   â”‚  {"name":"kX7vZ2..."}          â”‚  JSON
  â†“   â”‚                 â”‚                                â”‚
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  T4  â”‚  Backend        â”‚  {"name":"kX7vZ2..."}          â”‚  JSON
  â†“   â”‚                 â”‚                                â”‚
  T5  â”‚  Backend        â”‚  [Decrypt with Private Key]    â”‚
  â†“   â”‚                 â”‚                                â”‚
  T6  â”‚  Backend        â”‚  "Alice"                       â”‚  Plain text
  â†“   â”‚                 â”‚                                â”‚
  T7  â”‚  Backend        â”‚  "Hello Alice"                 â”‚  Plain text
  â†“   â”‚                 â”‚                                â”‚
  T8  â”‚  Backend        â”‚  [Encrypt with Private Key]    â”‚
  â†“   â”‚                 â”‚                                â”‚
  T9  â”‚  Backend        â”‚  mY8nP1...                     â”‚  Base64
  â†“   â”‚                 â”‚                                â”‚
  T10 â”‚  HTTP Response  â”‚  {"encryptedGreeting":"mY..."}â”‚  JSON
  â†“   â”‚                 â”‚                                â”‚
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  T11 â”‚  Frontend       â”‚  {"encryptedGreeting":"mY..."}â”‚  JSON
  â†“   â”‚                 â”‚                                â”‚
  T12 â”‚  Frontend       â”‚  [Decrypt with Public Key]     â”‚
  â†“   â”‚                 â”‚                                â”‚
  T13 â”‚  Frontend       â”‚  "Hello Alice"                 â”‚  Plain text
  â†“   â”‚                 â”‚                                â”‚
  T14 â”‚  UI Display     â”‚  Hello Alice                   â”‚  Rendered
```

---

## Key Usage Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RSA KEY PAIR                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  PUBLIC KEY (RSA-2048)                                        â”‚
â”‚  â€¢ Used for ENCRYPTION (request)                              â”‚
â”‚  â€¢ Used for DECRYPTION (response from server)                 â”‚
â”‚  â€¢ Can be shared publicly                                     â”‚
â”‚  â€¢ Present in: Frontend (.env) - loaded at compile time       â”‚
â”‚  â€¢ Also stored in: Backend (.env) - for distribution          â”‚
â”‚                                                                â”‚
â”‚  PRIVATE KEY (RSA-2048)                                       â”‚
â”‚  â€¢ Used for DECRYPTION (request)                              â”‚
â”‚  â€¢ Used for ENCRYPTION (response)                             â”‚
â”‚  â€¢ Must be kept secret                                        â”‚
â”‚  â€¢ Present in: Backend (.env) ONLY - never leaves server!     â”‚
â”‚                                                                â”‚
â”‚  âœ… SECURE: Private key stays on backend, frontend only has   â”‚
â”‚             public key - frontend cannot decrypt incoming data!â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ENCRYPTION OPERATIONS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Location    â”‚  Operation  â”‚  Key Used    â”‚  Data           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend    â”‚  Encrypt    â”‚  PUBLIC      â”‚  "Alice"        â”‚
â”‚  Backend     â”‚  Decrypt    â”‚  PRIVATE     â”‚  "Alice"        â”‚
â”‚  Backend     â”‚  Encrypt    â”‚  PRIVATE     â”‚  "Hello Alice"  â”‚
â”‚  Frontend    â”‚  Decrypt    â”‚  PUBLIC      â”‚  "Hello Alice"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Network Traffic

```
CLIENT (Frontend)                           SERVER (Backend)
http://localhost:8080                       http://localhost:3000

      â”‚                                            â”‚
      â”‚  POST /encrypt-greeting                   â”‚
      â”‚  Content-Type: application/json           â”‚
      â”‚  {                                         â”‚
      â”‚    "name": "kX7vZ2J8mN3qR9sT1uV5wY..."  â”‚
      â”‚  }                                         â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                                            â”‚
      â”‚                                    [Process Request]
      â”‚                                            â”‚
      â”‚                                    â€¢ Parse JSON
      â”‚                                    â€¢ Extract encrypted name
      â”‚                                    â€¢ Decrypt with private key
      â”‚                                    â€¢ Get "Alice"
      â”‚                                    â€¢ Create "Hello Alice"
      â”‚                                    â€¢ Encrypt with public key
      â”‚                                    â€¢ Prepare response
      â”‚                                            â”‚
      â”‚  HTTP 200 OK                              â”‚
      â”‚  Content-Type: application/json           â”‚
      â”‚  {                                         â”‚
      â”‚    "encryptedGreeting": "mY8nP1qS3...",  â”‚
      â”‚    "message": "Greeting encrypted..."     â”‚
      â”‚  }                                         â”‚
      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                                            â”‚
[Process Response]                                 â”‚
      â”‚                                            â”‚
â€¢ Parse JSON                                       â”‚
â€¢ Extract encrypted greeting                       â”‚
â€¢ Decrypt with private key                         â”‚
â€¢ Get "Hello Alice"                                â”‚
â€¢ Display to user                                  â”‚
```

---

## Cryptographic Details

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   RSA ENCRYPTION DETAILS                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Algorithm:     RSA (Rivest-Shamir-Adleman)               â”‚
â”‚  Key Size:      2048 bits                                  â”‚
â”‚                                                             â”‚
â”‚  REQUEST (Frontend â†’ Backend):                             â”‚
â”‚  â€¢ Padding:       OAEP with SHA-256                        â”‚
â”‚  â€¢ Encrypt with:  Public Key                               â”‚
â”‚  â€¢ Decrypt with:  Private Key                              â”‚
â”‚  â€¢ Max Plaintext: ~190 bytes                               â”‚
â”‚                                                             â”‚
â”‚  RESPONSE (Backend â†’ Frontend):                            â”‚
â”‚  â€¢ Padding:       PKCS1                                    â”‚
â”‚  â€¢ Encrypt with:  Private Key                              â”‚
â”‚  â€¢ Decrypt with:  Public Key                               â”‚
â”‚  â€¢ Max Plaintext: ~245 bytes                               â”‚
â”‚                                                             â”‚
â”‚  Encoding:      Base64 (for transport)                     â”‚
â”‚  Ciphertext:    256 bytes (always, regardless of input)    â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   ENCRYPTION FORMULAS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  REQUEST:                                                   â”‚
â”‚    Encryption: C = E(M, PubKey)   [Client]                â”‚
â”‚    Decryption: M = D(C, PrivKey)  [Server]                â”‚
â”‚                                                             â”‚
â”‚  RESPONSE:                                                  â”‚
â”‚    Encryption: C = E(M, PrivKey)  [Server]                â”‚
â”‚    Decryption: M = D(C, PubKey)   [Client]                â”‚
â”‚                                                             â”‚
â”‚  where:                                                     â”‚
â”‚    â€¢ C = Ciphertext                                        â”‚
â”‚    â€¢ M = Message (plaintext)                               â”‚
â”‚    â€¢ E = Encryption function                               â”‚
â”‚    â€¢ D = Decryption function                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POTENTIAL ERROR POINTS                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend:
  âŒ Invalid key format
     â†’ "Failed to parse public/private key"
     
  âŒ Encryption failure
     â†’ "Failed to encrypt"
     
  âŒ Network error
     â†’ "Failed to send request: NetworkError"
     
  âŒ CORS error
     â†’ "Access-Control-Allow-Origin"
     
  âŒ Decryption failure
     â†’ "Failed to decrypt"

Backend:
  âŒ Missing .env file
     â†’ "RSA_PUBLIC_KEY and RSA_PRIVATE_KEY must be set"
     
  âŒ Invalid request format
     â†’ 'Missing "name" field in request body'
     
  âŒ Decryption failure
     â†’ "Failed to process encrypted data"
     
  âŒ Server error
     â†’ HTTP 500
```

---

## Security Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SECURITY ANALYSIS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âœ… SECURE ASPECTS:                                        â”‚
â”‚     â€¢ RSA-2048 (industry standard)                         â”‚
â”‚     â€¢ OAEP padding for request encryption                  â”‚
â”‚     â€¢ SHA-256 cryptographic hash                           â”‚
â”‚     â€¢ Proper key separation:                               â”‚
â”‚       - Frontend: PUBLIC KEY ONLY                          â”‚
â”‚       - Backend: PRIVATE KEY ONLY                          â”‚
â”‚     â€¢ Private key never leaves backend                     â”‚
â”‚     â€¢ Frontend cannot decrypt incoming messages            â”‚
â”‚     â€¢ Keys in environment variables                        â”‚
â”‚     â€¢ .env excluded from version control                   â”‚
â”‚                                                             â”‚
â”‚  âš ï¸  ADDITIONAL PRODUCTION NEEDS:                          â”‚
â”‚     â€¢ No TLS/HTTPS (add for production!)                   â”‚
â”‚     â€¢ No authentication/authorization                      â”‚
â”‚     â€¢ No rate limiting                                     â”‚
â”‚     â€¢ No key rotation                                      â”‚
â”‚     â€¢ Data size limited (~190 bytes request, ~245 response)â”‚
â”‚     â€¢ No request signing (prevent replay attacks)          â”‚
â”‚                                                             â”‚
â”‚  ðŸ”’ PRODUCTION ENHANCEMENTS:                               â”‚
â”‚     â€¢ Add HTTPS/TLS for all communication                  â”‚
â”‚     â€¢ Implement proper key management system               â”‚
â”‚     â€¢ Add authentication & authorization                   â”‚
â”‚     â€¢ Implement rate limiting & DDoS protection            â”‚
â”‚     â€¢ Add monitoring & logging                             â”‚
â”‚     â€¢ Regular security audits                              â”‚
â”‚     â€¢ Hybrid encryption (RSA+AES) for large data           â”‚
â”‚     â€¢ Request signing to prevent replay attacks            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
